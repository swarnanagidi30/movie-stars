(this["webpackJsonpmovie-stars"]=this["webpackJsonpmovie-stars"]||[]).push([[0],{59:function(e,t,n){e.exports=n(71)},64:function(e,t,n){},65:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),i=(n(64),n(20)),s=n(116),l=(n(65),n(49)),u=n(23),m=n.n(u),p=n(31),f=n(120),h=n(121),v=n(115),d=n(32),g=n.n(d);function E(e){var t=e.onChange,n=r.a.useState(!1),a=Object(i.a)(n,2),c=a[0],o=a[1],s=r.a.useState([]),u=Object(i.a)(s,2),d=u[0],E=u[1],b=c&&0===d.length;return r.a.useEffect((function(){var e=!0;if(b)return Object(p.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g()("https://swapi.dev/api/people/");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,e&&E(a.results);case 7:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[b]),r.a.useEffect((function(){c||E([])}),[c]),r.a.createElement(h.a,{open:c,onChange:function(e,n){t&&t(n)},onOpen:function(){o(!0)},onClose:function(){o(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e?e.name:""},options:d,loading:b,renderInput:function(e){return r.a.createElement(f.a,Object.assign({},e,{label:"Character",variant:"outlined",InputProps:Object(l.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,b?r.a.createElement(v.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})}var b=n(114),w=n(118),O=n(122),j=n(117),x=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,minHeight:"30vh",marginLeft:5},title:{width:"100%",textAlign:"left"}}})),I={},N=function(e){return e?e.replace("http://swapi.dev/api/films/","").replace("/",""):-1};function k(e){var t=e.films,n=e.onLatestMovie,a=x(),c=r.a.useState([]),o=Object(i.a)(c,2),s=o[0],l=o[1];return r.a.useEffect((function(){t&&t.length>0&&function(e){return Promise.all(e.map((function(e){var t=N(e);return I[t]?Promise.resolve(I[t]):g()(e).then(function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return n=e.sent,I[N(n.url)]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})))}(t).then((function(e){l(e)}))}),[t]),t&&0===s.length?r.a.createElement(v.a,{color:"inherit",size:20}):(n&&s.length>0&&setTimeout((function(){return n(s[s.length-1])}),1e3),r.a.createElement(j.a,{container:!0,spacing:2,className:a.root},r.a.createElement("p",{className:a.title},"List of Movies:"),r.a.createElement(b.a,{dense:!0,"aria-label":"contacts"},s&&s.map((function(e,t){return r.a.createElement(w.a,{key:t},r.a.createElement(O.a,{inset:!0,primary:e.title}))})))))}var S=Object(s.a)((function(e){return{appItem:{marginTop:e.spacing(3),width:"25%"},textBox:{width:"100%"}}}));var y=function(){var e,t=S(),n=r.a.useState({}),a=Object(i.a)(n,2),c=a[0],o=a[1],s=r.a.useState(null),l=Object(i.a)(s,2),u=l[0],m=l[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:t.appItem},r.a.createElement(E,{onChange:function(e){o(e)}})),r.a.createElement("div",{className:t.appItem},r.a.createElement(k,{films:c&&c.films,onLatestMovie:function(e){m(e)}})),r.a.createElement("div",{className:t.appItem},r.a.createElement(f.a,{className:t.textBox,label:"Name / Year last Movie:",value:u?u.title+" - "+(e=u.release_date,new Date(e).getFullYear()):""}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(48),C=n(119),L=Object(A.a)({palette:{type:"dark"}});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{theme:L},r.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.01653b2a.chunk.js.map